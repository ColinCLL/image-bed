# ç¼©ç•¥å›¾ç®¡ç†è¯´æ˜

## ğŸ¯ ç¼©ç•¥å›¾ç­–ç•¥

### ä¸ºä»€ä¹ˆéœ€è¦ç¼©ç•¥å›¾ï¼Ÿ

1. **æ€§èƒ½ä¼˜åŒ–** - ç¼©ç•¥å›¾æ–‡ä»¶å¤§å°çº¦ä¸ºåŸå›¾çš„1/10
2. **åŠ è½½é€Ÿåº¦** - å¤§å¹…æå‡ç½‘ç«™å“åº”é€Ÿåº¦
3. **å¸¦å®½èŠ‚çœ** - å‡å°‘æ•°æ®ä¼ è¾“é‡
4. **ç”¨æˆ·ä½“éªŒ** - é¡µé¢åŠ è½½æ›´æµç•…

### ç¼©ç•¥å›¾ç”Ÿæˆè§„åˆ™

- **å°ºå¯¸**ï¼š300Ã—300åƒç´ ï¼ˆä¿æŒå®½é«˜æ¯”ï¼‰
- **æ ¼å¼**ï¼šJPEG
- **è´¨é‡**ï¼š85%ï¼ˆå¹³è¡¡æ–‡ä»¶å¤§å°å’Œå›¾ç‰‡è´¨é‡ï¼‰
- **å‘½å**ï¼š`thumb_åŸæ–‡ä»¶å.jpg`

## ğŸ“ æ–‡ä»¶ç®¡ç†

### ç¼©ç•¥å›¾ç›®å½•ç»“æ„

```
image-bed/
â”œâ”€â”€ thumbnails/           # ç¼©ç•¥å›¾ç›®å½•
â”‚   â”œâ”€â”€ thumb_mytest1.jpg
â”‚   â”œâ”€â”€ thumb_myTest2.jpg
â”‚   â””â”€â”€ thumb_å¾®ä¿¡å›¾ç‰‡_20250331172746.jpg
â”œâ”€â”€ mytest1.jpg          # åŸå›¾
â”œâ”€â”€ myTest2.jpg          # åŸå›¾
â””â”€â”€ å¾®ä¿¡å›¾ç‰‡_20250331172746.jpg  # åŸå›¾
```

### Gitç®¡ç†ç­–ç•¥

**ç¼©ç•¥å›¾ä¼šè¢«æäº¤åˆ°Gitä»“åº“**ï¼ŒåŸå› ï¼š

1. **CDNç¼“å­˜** - GitHub Pageså¯ä»¥ç¼“å­˜ç¼©ç•¥å›¾
2. **å¿«é€Ÿè®¿é—®** - ç”¨æˆ·æ— éœ€ç­‰å¾…ç”Ÿæˆ
3. **ç‰ˆæœ¬æ§åˆ¶** - ç¼©ç•¥å›¾ä¸åŸå›¾ä¿æŒåŒæ­¥
4. **éƒ¨ç½²ä¸€è‡´æ€§** - ç¡®ä¿æ‰€æœ‰ç¯å¢ƒæ˜¾ç¤ºä¸€è‡´

## ğŸ”„ å·¥ä½œæµç¨‹

### æœ¬åœ°å¼€å‘

```bash
# æœ¬åœ°è¿è¡Œï¼ˆä¸ç”Ÿæˆç¼©ç•¥å›¾ï¼Œå› ä¸ºæ²¡æœ‰Pillowï¼‰
python scan_images.py
```

### GitHub Actions

```bash
# åœ¨GitHub Actionsä¸­è¿è¡Œï¼ˆç”Ÿæˆç¼©ç•¥å›¾ï¼‰
python scan_images.py
```

### è‡ªåŠ¨æäº¤

GitHub Actionsä¼šè‡ªåŠ¨ï¼š

1. **æ‰«æå›¾ç‰‡** - æ£€æµ‹æ–°å¢çš„å›¾ç‰‡æ–‡ä»¶
2. **ç”Ÿæˆç¼©ç•¥å›¾** - ä½¿ç”¨Pillowåº“ç”Ÿæˆä¼˜åŒ–ç¼©ç•¥å›¾
3. **æ›´æ–°æ•°æ®** - ç”Ÿæˆ `images_data.json`
4. **æäº¤æ–‡ä»¶** - è‡ªåŠ¨æäº¤ç¼©ç•¥å›¾å’Œæ•°æ®æ–‡ä»¶

## âš™ï¸ æŠ€æœ¯å®ç°

### ç¼©ç•¥å›¾ç”Ÿæˆä»£ç 

```python
def generate_thumbnail(self, file_path, max_size=(300, 300)):
    """ç”Ÿæˆç¼©ç•¥å›¾"""
    with Image.open(file_path) as img:
        # è½¬æ¢ä¸ºRGBæ¨¡å¼
        if img.mode in ('RGBA', 'LA', 'P'):
            img = img.convert('RGB')
        
        # è®¡ç®—ç¼©ç•¥å›¾å°ºå¯¸
        img.thumbnail(max_size, Image.Resampling.LANCZOS)
        
        # ä¿å­˜ç¼©ç•¥å›¾
        thumbnail_path = self.thumbnails_dir / f"thumb_{file_path.stem}.jpg"
        img.save(thumbnail_path, 'JPEG', quality=85, optimize=True)
```

### å‰ç«¯æ˜¾ç¤ºé€»è¾‘

```javascript
// ä¼˜å…ˆæ˜¾ç¤ºç¼©ç•¥å›¾ï¼Œç‚¹å‡»æŸ¥çœ‹åŸå›¾
<img src="${image.thumbnail || image.path}" 
     alt="${image.name}" 
     loading="lazy" 
     data-full="${image.path}">
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### æ–‡ä»¶å¤§å°å¯¹æ¯”

| å›¾ç‰‡ç±»å‹ | åŸå›¾å¤§å° | ç¼©ç•¥å›¾å¤§å° | å‹ç¼©æ¯” |
|---------|---------|-----------|--------|
| mytest1.jpg | 244.2KB | ~24KB | 90% |
| myTest2.jpg | 259.6KB | ~26KB | 90% |
| å¾®ä¿¡å›¾ç‰‡_20250331172746.jpg | 380.6KB | ~38KB | 90% |

### åŠ è½½æ—¶é—´å¯¹æ¯”

- **åŸå›¾åŠ è½½**ï¼š2-5ç§’ï¼ˆå–å†³äºç½‘ç»œï¼‰
- **ç¼©ç•¥å›¾åŠ è½½**ï¼š0.5-1ç§’
- **æ€§èƒ½æå‡**ï¼š70-80%

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç¼©ç•¥å›¾ä¸æ˜¾ç¤º

1. **æ£€æŸ¥æ–‡ä»¶å­˜åœ¨**ï¼š
   ```bash
   ls thumbnails/
   ```

2. **æ£€æŸ¥JSONæ•°æ®**ï¼š
   ```bash
   cat images_data.json | grep thumbnail
   ```

3. **é‡æ–°ç”Ÿæˆç¼©ç•¥å›¾**ï¼š
   ```bash
   rm -rf thumbnails/
   python scan_images_advanced.py
   ```

### ç¼©ç•¥å›¾è´¨é‡å·®

å¯ä»¥è°ƒæ•´ç”Ÿæˆå‚æ•°ï¼š

```python
# æé«˜è´¨é‡
img.save(thumbnail_path, 'JPEG', quality=90, optimize=True)

# å¢åŠ å°ºå¯¸
img.thumbnail((400, 400), Image.Resampling.LANCZOS)
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å›¾ç‰‡å‘½å
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶å
- é¿å…ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦
- ä¿æŒå‘½åä¸€è‡´æ€§

### 2. æ–‡ä»¶ç®¡ç†
- å®šæœŸæ¸…ç†ä¸éœ€è¦çš„å›¾ç‰‡
- ä¿æŒåŸå›¾è´¨é‡
- ç›‘æ§å­˜å‚¨ç©ºé—´

### 3. æ€§èƒ½ä¼˜åŒ–
- å‹ç¼©åŸå›¾æ–‡ä»¶å¤§å°
- ä½¿ç”¨WebPæ ¼å¼ï¼ˆå¦‚æœæ”¯æŒï¼‰
- å®šæœŸæ¸…ç†ç¼“å­˜

---

**é€šè¿‡ç¼©ç•¥å›¾ä¼˜åŒ–ï¼Œæ‚¨çš„æ‘„å½±ä½œå“å±•ç¤ºç½‘ç«™å°†è·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼** ğŸš€ 